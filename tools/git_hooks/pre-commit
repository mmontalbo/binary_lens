#!/usr/bin/env bash
set -euo pipefail

# Resolve the repository root even when invoked via a symlink.
repo_root="$(git rev-parse --show-toplevel)"

cd "$repo_root"

if [[ -z "${IN_NIX_SHELL-}" ]]; then
    exec nix develop -c ruff check .
else
    exec ruff check .
fi
